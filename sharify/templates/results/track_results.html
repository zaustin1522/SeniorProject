{% load static %}
{% if results %}
<table>
    {% for row in results %}
    <tr>
        {% for entry in row %}
            {% with track=entry.0 comments=entry.1%}
                {% include 'items/mini_track.html' %}
            {% endwith %}
        {% endfor %}
    </tr>
    {% endfor %}
</table>
{% endif %}

{% block scripts %}
    <script>
        function expand(elem) {
            if (document.getElementById("active")){
                shrink(document.getElementById("active"))
            }
            target_id = elem.getAttribute("frame");
            target = document.getElementById(target_id);
            target.hidden = false;
            elem.style.setProperty("transform", "rotate(180deg)");
            elem.setAttribute("onclick", "shrink(this)");
            elem.setAttribute("id", "active");
        }
        function shrink(elem) {
            elem.removeAttribute("id");
            target_id = elem.getAttribute("frame");
            target = document.getElementById(target_id);
            target.hidden = true;
            elem.style.setProperty("transform", "rotate(0deg)");
            elem.setAttribute("onclick", "expand(this)");
        }
    </script>
{% endblock %}
